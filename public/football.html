<section ng-controller="FootballController as football">
<body data-spy="scroll" data-target="#football-example">
  <div class="container mt-3 mb-3 pb-3 pt-3" id="football-container">
      <div class="jumbotron mt-3 pt-3 text-center"  id="football-jumbotron">
        <img id="footballSpinner" class="pt-3 mt-3" src="./assets/football-152-102853.png" alt="FLAB-football"><br>
        <h1 id="fontB" class="pt-2 text-light">Pigskin Slapstick</h1>
        <!-- use the brain cells.. come up w/a better tagline -->
        <h2 id="fontB" class="pb-2 text-light">Who's the Best?</h2><br>
        <!-- {{football.obsession}} -->

        <div class="alert alert-dismissible fade show"  role="alert" ng-if=!user.loggedIn id="football-alert">
          <div class="alert-heading">
            <h4 class="alert-title text-white pt-2 text-left" id="fontB">Guard the Yard!
            <button type="button" class="close d-inline" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button></h4>
          </div>
          <hr>
            <p id="fontB" class="text-white">Log in to see what FLABies are saying about the latest in college football!</p>
        </div>

        <!-- Create Football Post Button -->
        <div id="newitem-form" class="col-lg-12" ng-if=user.loggedIn>
          <button class="btn text-light mb-3" id="fontB" style="background-color:#A60A32" type="submit" ng-click="football.toggleNew(); football.addForm.reset()">Add Football Post</button>

          <button class="btn text-light mb-3" data-toggle="collapse" href="#seeFootballPosts" style="background-color:#A60A32" id="fontB">See Football Posts</button>
        </div>

      <!-- Add New Football Post Form -->
        <div ng-if="football.newDisplay">
          <div class="container text-center" id="fontB">
            <h3 class="text-white">Ready to stake a claim about your fave team, player, &/or coach?<br>Share your take on how football doesnâ€™t build character, it eliminates the weak ones!</h3>
                <div class="row">
                  <div class="col jumbotron" id="newFootballPost">
                    <form ng-submit="football.createFootballPost()" class="pb-3">
                      <div class="form-group row">
                          <label for="title" class="col-sm-2 col-form-label text-white">Title</label>
                          <div class="col-sm-10">
                            <input type="text" ng-model="football.postTitle" class="form-control" id="title" placeholder="Post Title">
                          </div>
                      </div>
            <hr>
                      <div class="form-group row">
                          <label for="football-tag" class="col-sm-2 col-form-label text-white">Tag(s)</label>
                          <div class="col-sm-10">
                            <input type="text" ng-model="football.tag" class="form-control" id="football-tag" placeholder="Tag(s)">
                          </div>
                      </div>
            <hr>
                      <div class="form-group row">
                          <label for="football-url" class="col-sm-2 col-form-label text-white">URL</label>
                          <div class="col-sm-10">
                            <input type="text" ng-model="football.url" class="form-control" id="football-url" placeholder="If applicable, share URL">
                          </div>
                      </div>
            <hr>
                      <div class="form-group row">
                          <label for="post" class="col-sm-2 col-form-label text-white">Post</label>
                          <div class="col-sm-10">
                            <textarea ng-model="football.fbPost" id="message" rows="5" class="form-control"></textarea>
                          </div>
                      </div>
            <hr>
                      <input class="btn text-light" style="background-color:#FFC145" type="submit" value="Post">
                    </form>

        </div> <!-- newFootballPost -->
      </div>  <!-- row -->
    </div>  <!-- container text-center -->
  </div>  <!-- football.newDisplay -->


    <!-- Football Modal -->

    <div ng-if="football.modal" id="footballModal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">

            <button type="button" ng-click="football.toggleModal()" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>

            <h3 class="modal-title">{{football.currentFootballPost.postTitle}}</h3>
          </div> <!-- end modal-header -->

          <!-- Tabs -->
          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a class="nav-link-active" href="#originalFootballPost" data-toggle="tab" role="tab">Post</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#footballComment" data-toggle="tab" role="tab">Comments</a>
            </li>
            <li class="nav-item" id="footballItem">
              <a class="nav-link" href="#footballEdit" data-toggle="tab" role="tab">Edit</a>
            </li>
          </ul>

          <div class="modal-body">

            <div class="tab-content">

            <!-- originalFootballPost Tab (1) -->
            <div class="tab-pane active" id="originalFootballPost" role="tabpanel">
              <ul>

                <li> <strong>Posted by FLABie: </strong> {{football.currentFootballPost.author}}</li>

                <li> <strong>Football Podium Chatter:</strong> {{football.currentFootballPost.fbPost}}</li>

                <li> <strong>Football Tag(s):</strong> {{football.currentFootballPost.tag}}</li>

                <li> <span> <strong>Read More Here:</strong>
                  <a href="{{football.currentFootballPost.url}}" target="_blank"> {{football.currentFootballPost.url}}</a></span></li>

              </ul>
            </div>

              <!-- Tab 1 Content -->
              <div class="tab-pane fade" id="footballComment" role="tabpanel">
                <!--  All Comments -->
                <ul id="comment-list">
                  <li ng-repeat="comments in football.currentFootballPost.comments track by $index">
                    <div id="comment-item">
                      <p>{{comments}}</p>
                        <!-- add who authored the comment: -->


                    </div>
                  </li>
                </ul>
                <hr>
                <!-- New Comment Form RE FootballPosts -->
                <h2>Post a Comment</h2>
                <form id="commentForm" ng-submit="football.addComment(football.currentFootballPost._id); football.toggleModal()">


                  <div class="form-group">
                    <textarea class="form-control" type="text" id="comments" ng-model="football.commentedFootball.comments"></textarea><br>
                    <button class="btn btn-warning" type="submit">Confirm</button>
                  </div>

                </form>
            </div>

              <!-- Tab 2 Content -->
              <div class="tab-pane fade" id="footballEdit" role="tabpanel">
              <!-- Edit Form -->
              <h2>Wanna Update Your Post?</h2>

              <form id="footballForm"
              ng-submit="football.updateFootballPost(football.currentFootballPost._id)" ng-click="football.addForm.reset()">

              <!-- add <p> for each input w/title for user to know what they are updating -->

              <!-- use bootstrap formatting for input groups for better user experience -->

                <input type="text" placeholder="{{football.currentFootballPost.postTitle}}"
                ng-model="football.editedFootballPost.postTitle">

                <input type="textarea" placeholder="{{football.currentFootballPost.fbPost}}"
                ng-model="football.editedFootballPost.fbPost">

                <input type="text"
                placeholder="{{football.currentFootballPost.tag}}"
                ng-model="football.editedFootballPost.tag">

                <input type="text" placeholder="{{football.currentFootballPost.url}}"
                ng-model="football.editedFootballPost.url">

              </form>

              <button class="btn btn-warning" type="submit" ng-click="football.updateFootballPost(football.currentFootballPost._id); football.toggleModal()">Update</button>

              <button class="btn btn-warning" ng-click="football.deleteFootballPost(football.currentFootballPost._id)">Remove Post</button>

              </div>  <!-- end tab two -->
            </div>  <!-- end tab content -->

          </div>  <!-- end modal body -->

        </div>  <!-- end modal content -->
      </div>  <!-- end modal dialog -->
    </div>  <!-- end footballModal -->

    <!-- All Football Posts -->
    <div class="row" id="display">
      <ul id="football-list">
        <!-- this searchbox filter probably should go in the jumbotron area -->
        <li ng-repeat="footballPost in football.allFootballPosts | filter:searchBox" ng-init="limit = 28" ng-click="football.setCurrentFootballPost(footballPost._id)">
          <div class="col-md-4" id="football-item">
            <button class="btn btn-warning postButton" id="football-button" ng-click="football.toggleModal()">
            <img src="./assets/football-24-102853.png"
            alt="FLAB"><br>  {{footballPost.postTitle}}</button>

            <!-- add comment glyphicon when functionality is fleshed out -->
          </div>

        </li><br>

      </ul>
<br>
    </div>

<br><br>


</div>  <!-- end football-container -->
  </body>
</section>  <!-- end footballController -->
