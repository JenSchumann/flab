<section ng-controller="FlabbieController as flabbie">

  <div class="container mt-3 pt-3" id="flabbie-container">
    <!-- <div class="row"> -->

      <div class="jumbotron mt-3 pt-3 text-center" id="flabbie-jumbotron">

        <h1 id="fontB">FLABies</h1>

        <h2 id="fontB">The Ultimate Tribe of Humanity</h2>
        <br>
        <!-- {{flabbie.hasBestPicks}} -->


        <!-- Create User Profile Button -->
        <div id="newitem-form" class="col-lg-12">
          <button class="btn btn-warning" type="submit" ng-click="flabbie.toggleNew(); flabbie.addForm.reset()" id="fontB">Create FLABie Profile</button>
        </div>

<br><br>
        <!-- Create User Profile Form -->
        <div ng-if="flabbie.newDisplay">
            <div class="container text-center" id="fontB">
              <h2 class="text-center">Created a User Login? Great!<br> You're Ready to Create a FLABbie Profile!</h2>
                  <div class="row">
                    <div class="col jumbotron" id="newFlabbieProfile">
                          <form ng-submit="flabbie.createFlabbieProfile()">
                            <small id="emailHelp" class="form-text text-white mx-auto">We'll never share your email with anyone else.
                            </small>
                            <div class="form-group row pt-3">
                                <label for="email" class="col-sm-2 col-form-label text-white">Email</label>
                                <div class="col-sm-10">
                                  <input type="email" ng-model="flabbie.email" class="form-control" id="email" placeholder="FLABie Email">
                                </div>
                            </div>
<hr>
                            <div class="form-group row">
                                <label for="image" class="col-sm-2 col-form-label text-white">Image</label>
                                <div class="col-sm-10">
                                  <input type="text" ng-model="flabbie.image" class="form-control" id="image" placeholder="FLABie Profile Picture">
                                </div>
                            </div>
<hr>
                            <div class="form-group row">
                                <label for="team" class="col-sm-2 col-form-label text-white">Fave Team(s)</label>
                                <div class="col-sm-10">
                                  <input type="text" ng-model="flabbie.favoriteTeams" class="form-control" id="team" placeholder="Favorite Team(s)">
                                </div>
                            </div>
<hr>
                            <div class="form-group row">
                                <label for="fbeer" class="col-sm-2 col-form-label text-white">Fave Beer(s)</label>
                                <div class="col-sm-10">
                                  <input type="text" ng-model="flabbie.favoriteBeers" class="form-control" id="fbeer" placeholder="Favorite Beer(s)">
                                </div>
                            </div>
<hr>
                            <div class="form-group row">
                                <label for="message" class="col-sm-2 col-form-label text-white">Bio</label>
                                <div class="col-sm-10">
                                  <textarea ng-model="flabbie.bio" id="message" rows="5" class="form-control"></textarea>
                                </div>
                            </div>
<hr>

                            <!-- <h5>FLABie Email:</h5><input type="text" ng-model="flabbie.email" placeholder="FLABie Email"/><br>

                            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small><br> -->

                            <!-- <h5>FLABie Profile Picture:</h5><input type="text" ng-model="flabbie.image" placeholder="FLABie Profile Picture"/><br> -->

                            <!-- <h5>FLABie Bio:</h5><input type="textarea"
                            ng-model="flabbie.bio" placeholder="About Me"/><br> -->

                            <!-- <h5>Fave Team(s):</h5><input type="text"
                            ng-model="flabbie.favoriteTeams" placeholder="Favorite Team(s)"/><br> -->

                            <!-- <h5>Fave Beer(s):</h5><input type="text"
                            ng-model="flabbie.favoriteBeers" placeholder="Favorite Beer(s)"/><br> -->

                            <br>
                            <input class="btn btn-warning" type="submit" value="Create">

                          </form>
                  </div> <!-- col-lg-8 jumbotron -->
              </div> <!-- row -->
          </div> <!-- container -->
        </div> <!-- end new display -->

      </div>  <!-- end flabbie-jumbotron -->

    <!-- </div>   -->
    <!-- end row -->

    <!-- Flabbie Modal -->

    <div ng-if="flabbie.modal" id"flabbieModal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">

            <button type="button" ng-click="flabbie.toggleModal()" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>

            <h3 class="modal-title">FLABie Name:
               {{flabbie.currentFlabbieProfile.author}}
            </h3>


          </div>  <!-- end modal header -->

          <!-- Tabs -->
          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a class="nav-link-active" href="#originalFlabbieProfile" data-toggle="tab" role="tab">FLABie</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#flabbieComment" data-toggle="tab" role="tab">Comments</a>
            </li>
            <li class="nav-item" id="flabItem">
              <a class="nav-link" href="#flabbieEdit" data-toggle="tab" role="tab">Edit</a>
            </li>
          </ul>

          <div class="modal-body">

            <div class="tab-content">
              <!-- originalFlabbieProfile Tab (1) Content -->
              <div class="tab-pane active" id="originalFlabbieProfile" role="tabpanel">

              <ul>

                <li><img class="img-fluid" ng-src="{{flabbie.currentFlabbieProfile.image}}"><br></li>

                <li> <strong>FLABie Bio: </strong>  {{flabbie.currentFlabbieProfile.bio}}<br></li>

                <li> <strong>FLABie's Fave Team(s): </strong>  {{flabbie.currentFlabbieProfile.favoriteTeams}}<br></li>

                <li> <strong>FLABie Fave Beer(s): </strong>  {{flabbie.currentFlabbieProfile.favoriteBeers}}<br></li>



              </ul>
            </div>


            <!-- Tab 1 Content -->
            <div class="tab-pane fade" id="flabbieComment" role="tabpanel">
              <!--  All Comments -->
              <ul id="comment-list">
                <li ng-repeat="comments in flabbie.currentFlabbieProfile.comments track by $index">
                  <div id="comment-item">
                    <p>{{comments}}</p>
                      <!-- add who authored the comment: -->


                  </div>
                </li>
              </ul>
              <hr>
              <!-- New Comment Form RE BeerPosts -->
              <h2>Post a Comment</h2>
              <form id="commentForm" ng-submit="flabbie.addComment(flabbie.currentFlabbieProfile._id); flabbie.toggleModal()">


            <div class="form-group">
              <textarea class="form-control" type="text" id="comments" ng-model="flabbie.commentedFlabbie.comments"></textarea><br>
              <button class="btn btn-warning" type="submit">Confirm</button>
            </div>

          </form>

          </div>

            <!-- Tab 2 Content -->
            <div class="tab-pane fade" id="flabbieEdit" role="tabpanel">
            <!-- Edit Form -->
            <h2>Do You Need To Edit Your Profile?</h2>

            <form id="flabbieForm" ng-submit="flabbie.updateFlabbieProfile(flabbie.currentFlabbieProfile._id)" ng-click="flabbie.addForm.reset()">

              <h5>FLABie Email: </h5><input type="text" placeholder="{{flabbie.currentFlabbieProfile.email}}" ng-model="flabbie.editedFlabbieProfile.email">

              <h5>FLABie Profile Picture: </h5><input type="text" placeholder="{{flabbie.currentFlabbieProfile.image}}"  ng-model="flabbie.editedFlabbieProfile.image">

              <h5>FLABie Bio: </h5><input type="text" placeholder="{{flabbie.currentFlabbieProfile.bio}}" ng-model="flabbie.editedFlabbieProfile.bio">

              <h5>Fave Team(s): </h5><input type="text" placeholder="{{flabbie.currentFlabbieProfile.favoriteTeams}}" ng-model="flabbie.editedFlabbieProfile.favoriteTeams">

              <h5>Fave Beer(s): </h5><input type="text" placeholder="{{flabbie.currentFlabbieProfile.favoriteBeers}}" ng-model="flabbie.editedFlabbieProfile.favoriteBeers">

            </form>

            <button class="btn btn-warning" type="submit" ng-click="flabbie.updateFlabbieProfile(flabbie.currentFlabbieProfile._id); flabbie.toggleModal()">Update</button>
            <button class="btn btn-warning" ng-click="flabbie.deleteFlabbieProfile(flabbie.currentFlabbieProfile._id)">Remove Profile</button>

              </div>  <!-- end tab two -->
            </div>  <!-- end tab content -->

          </div>  <!-- end modal body -->
        </div>  <!-- end modal content -->
      </div>  <!-- end modal dialog -->
    </div>   <!-- end flabbieModal -->




        <!-- All Flabbie Profiles -->
        <div class="row" id="display">
          <ul id="flabbie-list">
            <!-- this searchbox filter probably should go in the jumbotron area -->

            <li ng-repeat="flabbieProfile in flabbie.allFlabbieProfiles | filter:searchBox" ng-init="limit = 28" ng-click="flabbie.setCurrentFlabbieProfile(flabbieProfile._id)">
              <div class="col-md-4" id="flabbie-item">
                <button ng-click="flabbie.toggleModal()" class="btn btn-warning postButton" id="flabbie-button" >
                  <!-- perhaps have very small profile pic? -->
                <img src="./assets/football-24-102853.png"
                alt="FLAB"><br>  {{flabbieProfile.author}}</button>


              </div>

            </li><br>

          </ul>
        <br>
        </div>

        <br><br>



  </div>  <!-- end flabbie-container -->

</section>  <!-- end FlabbieController -->
